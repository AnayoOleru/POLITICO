'use strict';

// alert("connected!");
document.getElementById('addpost').addEventListener('submit', addPost);

function addPost(e) {
  e.preventDefault();

  var firstname = document.getElementById('firstname').value;
  var lastname = document.getElementById('lastname').value;
  var othername = document.getElementById('othername').value;
  var email = document.getElementById('email').value;
  var phonenumber = document.getElementById('phone').value;
  var passportUrl = document.getElementById('file').value;
  var password = document.getElementById('password').value;
  var result = document.getElementById('result');
  var responseStatus = false;
  console.log('hhhhhh');

  fetch('https://trustpolitico.herokuapp.com/api/v1/auth/signup', {
    method: 'POST',
    headers: {
      Accept: 'application/json, text/plain, */*',
      'Content-type': 'application/json'
    },
    body: JSON.stringify({
      passportUrl: passportUrl,
      firstname: firstname,
      lastname: lastname,
      othername: othername,
      email: email,
      phonenumber: phonenumber,
      password: password
    })

  }).then(function (res) {
    if (res.ok) {
      responseStatus = true;
      result.innerHTML = 'Signup successful!';
      result.style.color = 'green';
    }
    return res.json();
  }).then(function (res) {
    console.log(res.user);
    if (!responseStatus) {
      result.innerHTML = res.error;
      result.style.color = 'red';
    } else {
      window.localStorage.setItem('token', res.data[0].token);
      window.location.href = '/views/parties.html';
      console.log(res);
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1VJL3NjcmlwdHMvc2lnbnVwLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkUG9zdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZpcnN0bmFtZSIsInZhbHVlIiwibGFzdG5hbWUiLCJvdGhlcm5hbWUiLCJlbWFpbCIsInBob25lbnVtYmVyIiwicGFzc3BvcnRVcmwiLCJwYXNzd29yZCIsInJlc3VsdCIsInJlc3BvbnNlU3RhdHVzIiwiY29uc29sZSIsImxvZyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkFjY2VwdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsInJlcyIsIm9rIiwiaW5uZXJIVE1MIiwic3R5bGUiLCJjb2xvciIsImpzb24iLCJ1c2VyIiwiZXJyb3IiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZGF0YSIsInRva2VuIiwibG9jYXRpb24iLCJocmVmIl0sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0FBLFNBQVNDLGNBQVQsQ0FBd0IsU0FBeEIsRUFBbUNDLGdCQUFuQyxDQUFvRCxRQUFwRCxFQUE4REMsT0FBOUQ7O0FBRUEsU0FBU0EsT0FBVCxDQUFpQkMsQ0FBakIsRUFBb0I7QUFDbEJBLElBQUVDLGNBQUY7O0FBR0EsTUFBTUMsWUFBWU4sU0FBU0MsY0FBVCxDQUF3QixXQUF4QixFQUFxQ00sS0FBdkQ7QUFDQSxNQUFNQyxXQUFXUixTQUFTQyxjQUFULENBQXdCLFVBQXhCLEVBQW9DTSxLQUFyRDtBQUNBLE1BQU1FLFlBQVlULFNBQVNDLGNBQVQsQ0FBd0IsV0FBeEIsRUFBcUNNLEtBQXZEO0FBQ0EsTUFBTUcsUUFBUVYsU0FBU0MsY0FBVCxDQUF3QixPQUF4QixFQUFpQ00sS0FBL0M7QUFDQSxNQUFNSSxjQUFjWCxTQUFTQyxjQUFULENBQXdCLE9BQXhCLEVBQWlDTSxLQUFyRDtBQUNBLE1BQU1LLGNBQWNaLFNBQVNDLGNBQVQsQ0FBd0IsTUFBeEIsRUFBZ0NNLEtBQXBEO0FBQ0EsTUFBTU0sV0FBV2IsU0FBU0MsY0FBVCxDQUF3QixVQUF4QixFQUFvQ00sS0FBckQ7QUFDQSxNQUFNTyxTQUFTZCxTQUFTQyxjQUFULENBQXdCLFFBQXhCLENBQWY7QUFDQSxNQUFJYyxpQkFBaUIsS0FBckI7QUFDQUMsVUFBUUMsR0FBUixDQUFZLFFBQVo7O0FBR0FDLFFBQU0sd0RBQU4sRUFBZ0U7QUFDOURDLFlBQVEsTUFEc0Q7QUFFOURDLGFBQVM7QUFDUEMsY0FBUSxtQ0FERDtBQUVQLHNCQUFnQjtBQUZULEtBRnFEO0FBTTlEQyxVQUFNQyxLQUFLQyxTQUFMLENBQWU7QUFDbkJaLDhCQURtQjtBQUVuQk4sMEJBRm1CO0FBR25CRSx3QkFIbUI7QUFJbkJDLDBCQUptQjtBQUtuQkMsa0JBTG1CO0FBTW5CQyw4QkFObUI7QUFPbkJFO0FBUG1CLEtBQWY7O0FBTndELEdBQWhFLEVBaUJHWSxJQWpCSCxDQWlCUSxVQUFDQyxHQUFELEVBQVM7QUFDYixRQUFJQSxJQUFJQyxFQUFSLEVBQVk7QUFDVlosdUJBQWlCLElBQWpCO0FBQ0FELGFBQU9jLFNBQVAsR0FBbUIsb0JBQW5CO0FBQ0FkLGFBQU9lLEtBQVAsQ0FBYUMsS0FBYixHQUFxQixPQUFyQjtBQUNEO0FBQ0QsV0FBT0osSUFBSUssSUFBSixFQUFQO0FBQ0QsR0F4QkgsRUF5QkdOLElBekJILENBeUJRLFVBQUNDLEdBQUQsRUFBUztBQUNiVixZQUFRQyxHQUFSLENBQVlTLElBQUlNLElBQWhCO0FBQ0EsUUFBSSxDQUFDakIsY0FBTCxFQUFxQjtBQUNuQkQsYUFBT2MsU0FBUCxHQUFtQkYsSUFBSU8sS0FBdkI7QUFDQW5CLGFBQU9lLEtBQVAsQ0FBYUMsS0FBYixHQUFxQixLQUFyQjtBQUNELEtBSEQsTUFHTTtBQUNKSSxhQUFPQyxZQUFQLENBQW9CQyxPQUFwQixDQUE0QixPQUE1QixFQUFxQ1YsSUFBSVcsSUFBSixDQUFTLENBQVQsRUFBWUMsS0FBakQ7QUFDQUosYUFBT0ssUUFBUCxDQUFnQkMsSUFBaEIsR0FBdUIscUJBQXZCO0FBQ0F4QixjQUFRQyxHQUFSLENBQVlTLEdBQVo7QUFDRDtBQUNGLEdBbkNIO0FBb0NEIiwiZmlsZSI6InNpZ251cC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gYWxlcnQoXCJjb25uZWN0ZWQhXCIpO1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZHBvc3QnKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhZGRQb3N0KTtcblxuZnVuY3Rpb24gYWRkUG9zdChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuXG4gIGNvbnN0IGZpcnN0bmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXJzdG5hbWUnKS52YWx1ZTtcbiAgY29uc3QgbGFzdG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFzdG5hbWUnKS52YWx1ZTtcbiAgY29uc3Qgb3RoZXJuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ290aGVybmFtZScpLnZhbHVlO1xuICBjb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpLnZhbHVlO1xuICBjb25zdCBwaG9uZW51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZScpLnZhbHVlO1xuICBjb25zdCBwYXNzcG9ydFVybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlJykudmFsdWU7XG4gIGNvbnN0IHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJykudmFsdWU7XG4gIGNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHQnKTtcbiAgbGV0IHJlc3BvbnNlU3RhdHVzID0gZmFsc2U7XG4gIGNvbnNvbGUubG9nKCdoaGhoaGgnKTtcblxuXG4gIGZldGNoKCdodHRwczovL3RydXN0cG9saXRpY28uaGVyb2t1YXBwLmNvbS9hcGkvdjEvYXV0aC9zaWdudXAnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXNzcG9ydFVybCxcbiAgICAgIGZpcnN0bmFtZSxcbiAgICAgIGxhc3RuYW1lLFxuICAgICAgb3RoZXJuYW1lLFxuICAgICAgZW1haWwsXG4gICAgICBwaG9uZW51bWJlcixcbiAgICAgIHBhc3N3b3JkLFxuICAgIH0pLFxuXG4gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXNwb25zZVN0YXR1cyA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5pbm5lckhUTUwgPSAnU2lnbnVwIHN1Y2Nlc3NmdWwhJztcbiAgICAgICAgcmVzdWx0LnN0eWxlLmNvbG9yID0gJ2dyZWVuJztcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzLnVzZXIpO1xuICAgICAgaWYgKCFyZXNwb25zZVN0YXR1cykge1xuICAgICAgICByZXN1bHQuaW5uZXJIVE1MID0gcmVzLmVycm9yO1xuICAgICAgICByZXN1bHQuc3R5bGUuY29sb3IgPSAncmVkJztcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlcy5kYXRhWzBdLnRva2VuKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3ZpZXdzL3BhcnRpZXMuaHRtbCc7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB9XG4gICAgfSk7XG59XG4iXX0=