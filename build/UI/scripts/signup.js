'use strict';

// alert("connected!");
document.getElementById('addpost').addEventListener('submit', addPost);

function addPost(e) {
  e.preventDefault();

  var firstname = document.getElementById('firstname').value;
  var lastname = document.getElementById('lastname').value;
  var othername = document.getElementById('othername').value;
  var email = document.getElementById('email').value;
  var phonenumber = document.getElementById('phone').value;
  var passportUrl = document.getElementById('file').value;
  var password = document.getElementById('password').value;
  var result = document.getElementById('result');
  var responseStatus = false;

  fetch('https://trustpolitico.herokuapp.com/api/v1/auth/signup', {
    method: 'POST',
    headers: {
      Accept: 'application/json, text/plain, */*',
      'Content-type': 'application/json'
    },
    body: JSON.stringify({
      passportUrl: passportUrl,
      firstname: firstname,
      lastname: lastname,
      othername: othername,
      email: email,
      phonenumber: phonenumber,
      password: password
    })

  }).then(function (res) {
    if (res.ok) {
      responseStatus = true;
      result.innerHTML = 'Signup successful!';
      result.style.color = 'green';
    }
    return res.json();
  }).then(function (res) {
    console.log(res.user);
    if (!responseStatus) {
      result.innerHTML = res.error;
      result.style.color = 'red';
    } else {
      window.localStorage.setItem('token', res.data[0].token);
      window.location.href = '/views/parties.html';
      console.log(res);
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1VJL3NjcmlwdHMvc2lnbnVwLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkUG9zdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZpcnN0bmFtZSIsInZhbHVlIiwibGFzdG5hbWUiLCJvdGhlcm5hbWUiLCJlbWFpbCIsInBob25lbnVtYmVyIiwicGFzc3BvcnRVcmwiLCJwYXNzd29yZCIsInJlc3VsdCIsInJlc3BvbnNlU3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQWNjZXB0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwicmVzIiwib2siLCJpbm5lckhUTUwiLCJzdHlsZSIsImNvbG9yIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwiZXJyb3IiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZGF0YSIsInRva2VuIiwibG9jYXRpb24iLCJocmVmIl0sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0FBLFNBQVNDLGNBQVQsQ0FBd0IsU0FBeEIsRUFBbUNDLGdCQUFuQyxDQUFvRCxRQUFwRCxFQUE4REMsT0FBOUQ7O0FBRUEsU0FBU0EsT0FBVCxDQUFpQkMsQ0FBakIsRUFBb0I7QUFDbEJBLElBQUVDLGNBQUY7O0FBR0EsTUFBTUMsWUFBWU4sU0FBU0MsY0FBVCxDQUF3QixXQUF4QixFQUFxQ00sS0FBdkQ7QUFDQSxNQUFNQyxXQUFXUixTQUFTQyxjQUFULENBQXdCLFVBQXhCLEVBQW9DTSxLQUFyRDtBQUNBLE1BQU1FLFlBQVlULFNBQVNDLGNBQVQsQ0FBd0IsV0FBeEIsRUFBcUNNLEtBQXZEO0FBQ0EsTUFBTUcsUUFBUVYsU0FBU0MsY0FBVCxDQUF3QixPQUF4QixFQUFpQ00sS0FBL0M7QUFDQSxNQUFNSSxjQUFjWCxTQUFTQyxjQUFULENBQXdCLE9BQXhCLEVBQWlDTSxLQUFyRDtBQUNBLE1BQU1LLGNBQWNaLFNBQVNDLGNBQVQsQ0FBd0IsTUFBeEIsRUFBZ0NNLEtBQXBEO0FBQ0EsTUFBTU0sV0FBV2IsU0FBU0MsY0FBVCxDQUF3QixVQUF4QixFQUFvQ00sS0FBckQ7QUFDQSxNQUFNTyxTQUFTZCxTQUFTQyxjQUFULENBQXdCLFFBQXhCLENBQWY7QUFDQSxNQUFJYyxpQkFBaUIsS0FBckI7O0FBR0FDLFFBQU0sd0RBQU4sRUFBZ0U7QUFDOURDLFlBQVEsTUFEc0Q7QUFFOURDLGFBQVM7QUFDUEMsY0FBUSxtQ0FERDtBQUVQLHNCQUFnQjtBQUZULEtBRnFEO0FBTTlEQyxVQUFNQyxLQUFLQyxTQUFMLENBQWU7QUFDbkJWLDhCQURtQjtBQUVuQk4sMEJBRm1CO0FBR25CRSx3QkFIbUI7QUFJbkJDLDBCQUptQjtBQUtuQkMsa0JBTG1CO0FBTW5CQyw4QkFObUI7QUFPbkJFO0FBUG1CLEtBQWY7O0FBTndELEdBQWhFLEVBaUJHVSxJQWpCSCxDQWlCUSxVQUFDQyxHQUFELEVBQVM7QUFDYixRQUFJQSxJQUFJQyxFQUFSLEVBQVk7QUFDVlYsdUJBQWlCLElBQWpCO0FBQ0FELGFBQU9ZLFNBQVAsR0FBbUIsb0JBQW5CO0FBQ0FaLGFBQU9hLEtBQVAsQ0FBYUMsS0FBYixHQUFxQixPQUFyQjtBQUNEO0FBQ0QsV0FBT0osSUFBSUssSUFBSixFQUFQO0FBQ0QsR0F4QkgsRUF5QkdOLElBekJILENBeUJRLFVBQUNDLEdBQUQsRUFBUztBQUNiTSxZQUFRQyxHQUFSLENBQVlQLElBQUlRLElBQWhCO0FBQ0EsUUFBSSxDQUFDakIsY0FBTCxFQUFxQjtBQUNuQkQsYUFBT1ksU0FBUCxHQUFtQkYsSUFBSVMsS0FBdkI7QUFDQW5CLGFBQU9hLEtBQVAsQ0FBYUMsS0FBYixHQUFxQixLQUFyQjtBQUNELEtBSEQsTUFHTTtBQUNKTSxhQUFPQyxZQUFQLENBQW9CQyxPQUFwQixDQUE0QixPQUE1QixFQUFxQ1osSUFBSWEsSUFBSixDQUFTLENBQVQsRUFBWUMsS0FBakQ7QUFDQUosYUFBT0ssUUFBUCxDQUFnQkMsSUFBaEIsR0FBdUIscUJBQXZCO0FBQ0FWLGNBQVFDLEdBQVIsQ0FBWVAsR0FBWjtBQUNEO0FBQ0YsR0FuQ0g7QUFvQ0QiLCJmaWxlIjoic2lnbnVwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBhbGVydChcImNvbm5lY3RlZCFcIik7XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkcG9zdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFkZFBvc3QpO1xuXG5mdW5jdGlvbiBhZGRQb3N0KGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cbiAgY29uc3QgZmlyc3RuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpcnN0bmFtZScpLnZhbHVlO1xuICBjb25zdCBsYXN0bmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXN0bmFtZScpLnZhbHVlO1xuICBjb25zdCBvdGhlcm5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3RoZXJuYW1lJykudmFsdWU7XG4gIGNvbnN0IGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsJykudmFsdWU7XG4gIGNvbnN0IHBob25lbnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJykudmFsdWU7XG4gIGNvbnN0IHBhc3Nwb3J0VXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUnKS52YWx1ZTtcbiAgY29uc3QgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKS52YWx1ZTtcbiAgY29uc3QgcmVzdWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpO1xuICBsZXQgcmVzcG9uc2VTdGF0dXMgPSBmYWxzZTtcblxuXG4gIGZldGNoKCdodHRwczovL3RydXN0cG9saXRpY28uaGVyb2t1YXBwLmNvbS9hcGkvdjEvYXV0aC9zaWdudXAnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXNzcG9ydFVybCxcbiAgICAgIGZpcnN0bmFtZSxcbiAgICAgIGxhc3RuYW1lLFxuICAgICAgb3RoZXJuYW1lLFxuICAgICAgZW1haWwsXG4gICAgICBwaG9uZW51bWJlcixcbiAgICAgIHBhc3N3b3JkLFxuICAgIH0pLFxuXG4gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXNwb25zZVN0YXR1cyA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5pbm5lckhUTUwgPSAnU2lnbnVwIHN1Y2Nlc3NmdWwhJztcbiAgICAgICAgcmVzdWx0LnN0eWxlLmNvbG9yID0gJ2dyZWVuJztcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzLnVzZXIpO1xuICAgICAgaWYgKCFyZXNwb25zZVN0YXR1cykge1xuICAgICAgICByZXN1bHQuaW5uZXJIVE1MID0gcmVzLmVycm9yO1xuICAgICAgICByZXN1bHQuc3R5bGUuY29sb3IgPSAncmVkJztcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlcy5kYXRhWzBdLnRva2VuKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3ZpZXdzL3BhcnRpZXMuaHRtbCc7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB9XG4gICAgfSk7XG59XG4iXX0=